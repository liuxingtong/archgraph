# ArchGraph 用户操作手册

## 📚 目录

1. [快速入门](#快速入门)
2. [案例管理](#案例管理)
3. [知识图谱操作](#知识图谱操作)
4. [AI功能](#ai功能)
5. [标签管理](#标签管理)
6. [元概念管理](#元概念管理)
7. [星云管理](#星云管理)
8. [数据管理](#数据管理)
9. [主题设置](#主题设置)
10. [常见问题](#常见问题)

---

## 🚀 快速入门

### 首次使用

1. **启动应用**：按照 README 中的说明启动服务
2. **查看预置数据**：首次启动会自动加载12个经典建筑案例
3. **探索图谱**：在"灵感搜索"标签页可以看到预置案例组成的知识图谱

### 基本操作

- **拖拽节点**：在图谱上点击并拖拽节点可以调整位置
- **缩放图谱**：使用鼠标滚轮或触摸板手势缩放
- **查看详情**：点击任意节点查看详细信息
- **切换主题**：点击右上角主题按钮切换暗色/亮色主题

---

## 📌 案例管理

### 手动添加案例

1. 点击"添加案例"标签页
2. 填写以下信息：
   - **项目名称**（必填）
   - **建筑师/事务所**
   - **年份**
   - **地点**
   - **标签**：用逗号分隔，如"住宅,现代主义,混凝土"
   - **设计描述**
   - **图片URL**：或点击上传区域上传本地图片
   - **来源链接**
3. 点击"添加案例"按钮

### 从URL导入案例

1. 在"添加案例"标签页找到"从链接导入"区域
2. 粘贴建筑网站链接（支持 ArchDaily、谷德、gooood 等）
3. （可选）添加额外备注
4. 点击"导入"按钮
5. AI会自动提取项目信息，检查并确认后保存

**支持的网站**：
- ArchDaily
- 谷德设计网
- gooood
- 其他常见建筑网站

### 编辑案例

1. 在图谱上点击案例节点，或从"全部"列表中找到案例
2. 在详情面板中点击"编辑"按钮
3. 修改信息后点击"保存"

### 删除案例

1. 打开案例详情面板
2. 点击"删除"按钮
3. 确认删除

---

## 🕸️ 知识图谱操作

### 基本交互

- **查看节点**：点击节点查看详细信息
- **拖拽节点**：点击并拖拽节点调整位置
- **缩放画布**：鼠标滚轮缩放，或触摸板手势
- **平移画布**：拖拽空白区域
- **悬浮预览**：鼠标悬浮在节点上查看简要信息

### 标签筛选

1. 在"灵感搜索"标签页的标签云区域
2. 点击任意标签，图谱会高亮显示关联的案例
3. 可以点击多个标签进行组合筛选
4. 点击已选标签的"✕"取消筛选

### 节点类型说明

- **橙色圆点**：案例节点
- **紫色圆点**：标签节点
- **红色圆点**：元概念节点
- **橙色大圆点**：星云节点（收起状态）
- **橙色圆环**：星云节点（展开状态）

---

## 🤖 AI功能

### AI灵感搜索

1. 在"灵感搜索"标签页的搜索框输入设计需求
   - 例如："滨水社区，低成本改造，社区参与"
   - 例如："小户型住宅，采光优化，空间利用"
2. （可选）先选择相关标签缩小搜索范围
3. 点击"搜索"或按 Ctrl+Enter
4. 查看结果：
   - **知识图谱中的关联**：显示已有案例及关联原因
   - **推荐新案例**：AI从网络搜索推荐的新案例，点击"+ 添加"一键添加
   - **设计策略**：AI生成的具体设计建议
   - **可继续探索**：推荐的相关概念方向

### 方案融合

1. 点击"方案融合"标签页
2. 在图谱或案例列表中选择2-4个案例
3. 为每个案例选择要融合的设计维度：
   - **手法**：空间操作方式
   - **场地处理**：对场地的回应
   - **概念**：核心设计理念
   - **技术**：建造技术与材料
   - **形式**：形式语言与造型
   - **结构**：结构体系与空间
4. （可选）添加自定义维度
5. 点击"生成融合方案"
6. 查看AI生成的融合方案，包括：
   - 组合逻辑说明
   - 落地场景建议
   - 张力与潜力分析

---

## 🏷️ 标签管理

### 查看标签

- 在"灵感搜索"标签页可以看到标签云
- 每个标签显示关联的案例数量
- 点击标签可以筛选关联案例

### 创建新连接

1. 点击"标签管理"标签页
2. 在"创建新连接"区域：
   - **选择父节点**：选择一个或多个父节点（可以是标签或案例）
   - **新标签名称**（可选）：如果要创建新标签，输入名称
   - **或选择现有标签**：如果要连接现有标签，在搜索框搜索并选择
3. 点击"创建连接"按钮

**说明**：
- 可以创建新标签并连接到父节点
- 也可以将现有标签连接到新的父节点
- 一个标签可以有多个父节点

### 编辑标签

1. 在图谱上点击标签节点
2. 在详情面板中点击"编辑"
3. 修改标签名称或父节点关系
4. 保存

### 删除标签

1. 打开标签详情面板
2. 点击"删除"按钮
3. 注意：如果标签正在被案例使用，需要先移除案例中的标签引用

---

## 💡 元概念管理

### 添加元概念

1. 在"添加案例"标签页，点击"添加元概念"按钮
2. 填写信息：
   - **概念名称**（必填）
   - **关键词**：用逗号分隔
   - **描述**
   - **图片**：上传或输入URL
   - **来源链接**
3. 点击"添加概念"

### 从URL导入概念

1. 在"添加元概念"表单中点击"从链接导入"
2. 粘贴任意网页链接（不限于建筑网站）
3. AI会自动提取概念信息
4. 确认后保存

### 编辑/删除概念

- 在图谱上点击概念节点，在详情面板中编辑或删除

---

## 🌌 星云管理

### 创建星云

1. 点击"星云管理"标签页
2. 输入星云名称
3. 点击"创建"

### 添加内容到星云

1. 在星云列表中点击星云名称
2. 在详情面板中：
   - 点击"添加案例"选择要添加的案例
   - 点击"添加概念"选择要添加的概念
3. 保存

### 激活/收起星云

- **激活星云**：在图谱上点击星云节点，或从列表中选择
- **收起星云**：再次点击已激活的星云，或激活其他星云
- **收起状态**：星云显示为实心圆点+两个同心圆环
- **激活状态**：星云展开，显示其包含的所有案例和概念

### 星云关联

- 星云之间会根据共享的案例/概念数量显示连接线
- 共享内容越多，连接线越粗越亮

---

## 📊 数据管理

### 导出数据

1. 点击"数据管理"标签页
2. 选择导出格式：
   - **JSON**：完整数据，包含所有案例、概念、标签、星云
   - **CSV**：案例表格，可用Excel打开
   - **GraphML**：图谱格式，可用Gephi等工具打开
3. 点击对应按钮下载

### 导入数据

1. 在"数据管理"标签页的"数据导入"区域
2. 选择导入模式：
   - **追加模式**：不覆盖现有数据，只添加新数据
   - **替换模式**：清空后导入，完全替换
3. 点击"选择 JSON 文件导入"
4. 选择之前导出的JSON文件
5. 等待导入完成

### 创建快照

1. 在"数据管理"标签页的"版本历史"区域
2. 点击"创建快照"
3. （可选）输入快照名称
4. 快照创建成功

### 恢复快照

1. 在快照列表中点击"恢复"按钮
2. 确认后数据会恢复到快照时的状态

### 删除快照

- 在快照列表中点击"删除"按钮

---

## 🎨 主题设置

### 切换主题

- 点击图谱界面右上角的主题切换按钮
- 在暗色主题和亮色主题之间切换
- 主题偏好会自动保存

### 主题说明

- **暗色主题**（默认）：黑色背景，橙黄色节点，紫色概念节点
- **亮色主题**：白色背景，黑色节点，红色概念节点

---

## ❓ 常见问题

### Q: 导入URL时提示403错误？

A: 某些网站有反爬虫机制。可以尝试：
- 使用其他网站链接
- 手动添加案例信息

### Q: AI搜索没有返回结果？

A: 检查：
- API Key是否正确配置
- 网络连接是否正常
- 搜索关键词是否足够具体

### Q: 图谱节点太多，看不清？

A: 可以：
- 使用标签筛选，只显示相关节点
- 缩放画布查看局部
- 激活星云，只显示特定分组的内容

### Q: 如何备份数据？

A: 使用"数据管理"中的"导出 JSON"功能，定期导出数据文件保存。

### Q: 可以同时使用多个星云吗？

A: 不可以，一次只能激活一个星云。激活新星云时，之前的会自动收起。

### Q: 标签和案例的区别？

A: 
- **标签**：用于分类和关联，可以建立层级关系
- **案例**：具体的建筑项目，包含完整信息
- 案例可以作为标签的父节点，实现更灵活的关联

### Q: 如何删除大量数据？

A: 可以：
- 使用"数据管理"中的"替换模式"导入空数据
- 或直接删除对应的JSON文件（需要重启应用）

---

## 💡 使用技巧

1. **建立标签体系**：先规划好标签层级，再添加案例
2. **利用星云分组**：将相关案例放入同一星云，便于管理
3. **定期导出备份**：重要数据定期导出JSON文件备份
4. **组合使用筛选**：标签筛选 + 星云激活可以精确定位
5. **利用AI搜索**：描述需求时尽量具体，包含关键词

---

## 📞 技术支持

如遇到问题，请：
1. 查看本文档的常见问题部分
2. 检查控制台错误信息
3. 提交 Issue 到项目仓库

---

**祝使用愉快！** 🎉